/* ====== Scoped ke modul detail_project ====== */
.dp-scope .table { table-layout: fixed; }
.dp-scope th, .dp-scope td {
  vertical-align: middle;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ----- Wrap panjang khusus area yang perlu (mis. Select2 & input teks panjang) ----- */
.dp-scope .lp-wrap,            /* pembungkus kelas untuk list_pekerjaan */
.dp-scope .select2-container .select2-selection__rendered,
.dp-scope .select2-results__option {
  white-space: normal !important;
  word-break: break-word !important;
}
.select2-container { width: 100% !important; } /* pastikan select2 full width */

/* =========================================================
   (DULU) Lebar kolom Ref di urutan ke-3
   — DIPINDAH ke kelas opsional .legacy-table agar tidak mengunci UI baru
   Cara pakai di halaman lama: <table class="table legacy-table">…</table>
   ========================================================= */
#lp-app .legacy-table th:nth-child(3),
#lp-app .legacy-table td:nth-child(3) { width: 360px; }

/* ----- Hirarki font size: Klasifikasi > Sub > Pekerjaan ----- */
#lp-app .lp-klas { font-size: 0.95rem; font-weight: 600; }
#lp-app .lp-sub  { font-size: 0.90rem; font-weight: 500; }
#lp-app .lp-pkj,
#lp-app .lp-pkj .form-control,
#lp-app .lp-pkj .form-select { font-size: 0.85rem; }

/* ----- Compact mode (opsional, bisa toggle dari JS) ----- */
#lp-app.compact,
#lp-app.compact .card,
#lp-app.compact .card-header,
#lp-app.compact .card-body { padding: .25rem !important; }
#lp-app.compact .form-control,
#lp-app.compact .form-select {
  font-size: .8rem !important;
  padding: .125rem .25rem !important;
  height: calc(1.5em + .5rem + 2px) !important;
}

/* ----- Util umum (kalau perlu di view lain) ----- */
.dp-scope .text-clip { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.dp-scope .text-wrap { white-space: normal; word-break: break-word; }

/* =========================================================
   EXCEPTIONS untuk halaman List Pekerjaan (scoped)
   ========================================================= */

/* 1) Izinkan wrap & jangan potong isi di tabel List Pekerjaan */
.dp-scope .list-pekerjaan table,
.dp-scope .list-pekerjaan .table {
  table-layout: auto !important;
}
.dp-scope .list-pekerjaan th,
.dp-scope .list-pekerjaan td {
  white-space: normal !important;
  overflow: visible !important;
  text-overflow: clip !important;
}

/* Pastikan kolom referensi bisa menyusut/melebar dengan aman */
.dp-scope .list-pekerjaan td.col-ref,
.dp-scope .list-pekerjaan .lp-col--ref {
  min-width: 0 !important;
}

/* 2) Select2: pastikan di atas saudara baris lain */
.dp-scope .list-pekerjaan td.col-ref .select2-host {
  position: relative;
  overflow: visible !important;
  z-index: auto;
}
.dp-scope .list-pekerjaan .select2-container--open { z-index: 10005 !important; }
.dp-scope .list-pekerjaan .select2-host.s2-open { z-index: 10010 !important; }
.dp-scope .list-pekerjaan .select2-host.s2-open .select2-dropdown { z-index: 10011 !important; }

/* 3) Compact mode: font & tinggi JANGAN dikecilkan di halaman ini */
.dp-scope .list-pekerjaan #lp-app.compact .table { font-size: inherit !important; }
.dp-scope .list-pekerjaan #lp-app.compact .form-control,
.dp-scope .list-pekerjaan #lp-app.compact .form-select {
  font-size: inherit !important;
  height: auto !important;
}

/* 4) Hasil Select2 & search: wrap aman */
.dp-scope .list-pekerjaan .select2-results__option,
.dp-scope .list-pekerjaan .select2-selection__rendered {
  white-space: normal !important;
  word-break: break-word !important;
  overflow-wrap: anywhere !important;
}

/* =========================================================
   POLISH KECIL KOMPATIBILITAS (aman untuk semua halaman)
   ========================================================= */

/* Hindari header tertutup navbar sticky di halaman yang pakai anchor */
.dp-scope [id] { scroll-margin-top: 72px; }

/* Perhalus fokus outline elemen form */
.dp-scope .form-control:focus,
.dp-scope .form-select:focus {
  box-shadow: 0 0 0 .15rem rgba(13, 110, 253, .15);
}
